<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<!--手机显示正常的声明-->
    	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<title>地图控件</title>
		<style type="text/css">
			html {
				height: 100%
			}
			
			body {
				height: 100%;
				margin: 0px;
				padding: 0px
			}
			
			#allmap {
				height: 100%
			}
		</style>

	</head>

	<body>
		<div id="allmap"></div>
		<script src="http://api.map.baidu.com/api?v=3.0&ak=p8o0Z5O9SvVfwPP3z0DlAf2PiWOvKPEv" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/library/LuShu/1.2/src/LuShu_min.js"></script>
		<script type="text/javascript">
			var map = new BMap.Map("allmap");
			map.enableScrollWheelZoom(true); //默认关闭鼠标缩放。重新设置true
			
			var point = new BMap.Point(116.417854,39.921988);
			map.centerAndZoom(point, 15);//定中心
			
			
			 // 创建标注，将标注添加到地图中
		    var marker = new BMap.Marker(point);  
		    map.addOverlay(marker);              
		   
		   
		    //监听地图点击事件，获取点击的点经纬度
		    map.addEventListener('click',function(e){
		        var newOne = new BMap.Point(e.point.lng+","+e.point.lat);
		        console.log(e.point.lng+","+e.point.lat);
//		        map.openInfoWindow(BMap.InfoWindow,newOne);
		    });
			
			
			/*
			 切换地图类型
			  MapTypeControlType常量：
            BMAP_MAPTYPE_CONTROL_HORIZONTAL:按钮水平方式展示，默认采用此类型展示。
            BMAP_MAPTYPE_CONTROL_DROPDOWN:按钮呈下拉列表方式展示。
            BMAP_MAPTYPE_CONTROL_MAP:以图片方式展示类型控件，设置该类型后无法指定maptypes属性。
			 * */
			var opts6={
			 	anchor:BMAP_ANCHOR_TOP_RIGHT,
	            type:BMAP_MAPTYPE_CONTROL_MAP
	        }
	        var maptype = new BMap.MapTypeControl(opts6);
	        map.addControl(maptype);
			
			
			/*
			 负责切换至全景地图的控件(浏览器要装Adobe Flash Play控件)
			 * */
			 map.addControl(new BMap.PanoramaControl({
			 	anchor:BMAP_ANCHOR_TOP_LEFT,
			 }));
		</script>
	</body>

</html>